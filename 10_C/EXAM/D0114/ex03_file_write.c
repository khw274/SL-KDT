/* *******************************************************************
* File name    : ex03_file_write.c
* Description  : 
* Author       : HyeonWoo
* History      : 2026.01.14
* ********************************************************************/
// -------------------------------------------------------------------
// 1. 전처리기 
// -------------------------------------------------------------------
#include <stdio.h>
#include <errno.h>

// -------------------------------------------------------------------
// 2. 매크로 함수/상수 정의 
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 3. 구조체 정의 
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 4. 전역 변수/상수 선언 (Global Variable / constant)
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 5. 함수 선언 
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 6. 메인 함수 
// -------------------------------------------------------------------
int main(void) {
	char* filename = "./opentest.txt";
	FILE* fp = fopen(filename, "r");

	if (fp == NULL) {
		printf("읽기모드로 파일 [%s] 열기에 실패했습니다.\n", filename);
		printf("errno=%d\n", errno); // 발생한 에러코드를 출력한다.            
	}
	else {
		printf("읽기모드로 파일 [%s] 열기에 성공했습니다.\n", filename);
	}

	fp = fopen(filename, "w");
	errno = 0;  // 에러코드를 초기화                                            

	if (fp == NULL) {
		printf("쓰기모드로 파일 [%s] 열기에 실패했습니다.\n", filename);
		printf("errno=%d\n", errno);

	}
	else {
		printf("쓰기모드로 파일 [%s] 열기에 성공했습니다.\n", filename);
	}

	printf("FOPEN_MAX=%d\n", FOPEN_MAX);

	fclose(fp);
	printf("파일 [%s]를 닫습니다.\n", filename);


	return 0;
}
// -------------------------------------------------------------------
// 7. 함수 구현 
// -------------------------------------------------------------------
