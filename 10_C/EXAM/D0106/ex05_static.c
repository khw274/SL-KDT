/* *******************************************************************
* File name    : ex05_static.c
* subFile name : .
* Description  : 정적변수 static variable
*				 static 전역변수 : 다른 파일에서 extern 즉, 참조 불가!
*				 static 지역변수 : 함수 종료 후에도 유지
* Author       : HyeonWoo
* History      : 2026.01.06 HyeonWoo
* ********************************************************************/
// -------------------------------------------------------------------
// 1. 전처리기 - 헤더파일 포함 
// -------------------------------------------------------------------
#include <stdio.h>

// -------------------------------------------------------------------
// 2. 매크로 상수 정의 
// -------------------------------------------------------------------

// -------------------------------------------------------------------｀｀｀｀｀｀｀
// 3. 구조체 정의 (필요 시) 
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 4. 전역 변수/상수 선언 (Global Variable / constant)
// -------------------------------------------------------------------
static int sv;

// -------------------------------------------------------------------
// 5. 함수 선언 
// -------------------------------------------------------------------
void func1(void);
void func2(void);

// -------------------------------------------------------------------
// 6. 메인 함수 
// -------------------------------------------------------------------
int main(void)
{
	// [지역변수 선언] -----------------------------------------------

	// [입력] --------------------------------------------------------

	// [처리] --------------------------------------------------------

	// 함수 호출
	func1();
	func2();

	func1();
	func2();
	
	func1();
	func2();
	
	func1();
	func2();

	// [출력] --------------------------------------------------------

	return 0;
}

// -------------------------------------------------------------------
// 7. 함수 구현 
// -------------------------------------------------------------------
void func1(void)
{
	static int sv2 = 1;		// 생성된 후 1회 초기화, 메모리 유지, 해당 함수에서만 사용이 가능
						    // 즉, 값을 유지한 채로 해당 함수가 실행될 때마다 사용,
	int		    lv = 1;

	printf("[func1] sv2 = %d, lv = %d\n", sv2++, lv++);
}

void func2(void)
{
	sv = 100;	// 전역 정적변수 사용

	printf("[func2] sv = %d\n", sv);
}