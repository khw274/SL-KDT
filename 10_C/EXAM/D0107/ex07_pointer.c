/* *******************************************************************
* File name    : ex07_pointer.c
* Description  : 포인터 상수
*				 
* Author       : HyeonWoo
* History      : 2026.01.07 HyeonWoo
* ********************************************************************/
// -------------------------------------------------------------------
// 1. 전처리기 - 헤더파일 포함 
// -------------------------------------------------------------------
#include <stdio.h>

// -------------------------------------------------------------------
// 2. 매크로 상수 정의 
// -------------------------------------------------------------------

// -------------------------------------------------------------------```````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````````
// 3. 구조체 정의 (필요 시) 
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 4. 전역 변수/상수 선언 (Global Variable / constant)
// -------------------------------------------------------------------
// `
// -------------------------------------------------------------------
// 5. 함수 선언 
// -------------------------------------------------------------------

// -------------------------------------------------------------------
// 6. 메인 함수 
// -------------------------------------------------------------------
int main(void)
{
	// 변수 선언
	const int MAX = 100;
	int value = 10;

	// 포인터 변수 선언
	int* p1 = &value;
	const int* p2 = &MAX;
	
	// 현재값
	printf("*p1 = %d, value = %d\n", *p1, value);

	// 변경
	*p1 = 7;	// 역참조로 값 변경
	printf("*p1 = %d, value = %d\n\n", *p1, value);

	// 포인터에 저장되는 주소 변경
	p1 = &MAX;
	printf("*p1 = %d, MAX = %d\n", *p1, MAX);

	*p1 = 150;
	printf("*p1 = %d, MAX = %d\n\n", *p1, MAX);	// 주소를 아니까 상수(const) 값도 막 바꿔버림 -> 포인터 상수가 필요

	// 상수 포인터로 값 변경 불가!!
	//*p2 = 150;
	printf("*p2 = %d, MAX = %d\n", *p2, MAX);	// error 발생

	// 상수 포인터에 저장하는 일반변수의 주소 변경
	p2 = &value;
	//*p2 = 33;	// 포인터 상수에 일반변수의 주소를 대입하고 값을 변경하는 것도 불가능!! -> 주소는 알려주는데 읽기만 가능하게                                                                                                                                                                                                                            
	printf("*p2 = %d, MAX = %d\n", *p2, value);	


	return 0;
}
// -------------------------------------------------------------------
// 7. 함수 구현 
// -------------------------------------------------------------------
